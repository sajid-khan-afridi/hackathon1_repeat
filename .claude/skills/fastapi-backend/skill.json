{
  "name": "fastapi-backend",
  "description": "Create FastAPI backend services for REST API endpoints, user management, and RAG chatbot functionality",
  "version": "1.0.0",
  "author": "Claude Code",
  "tags": ["fastapi", "backend", "api", "rest", "rag", "auth"],
  "category": "backend",
  "main": "index.js",
  "type": "backend",
  "license": "MIT",
  "parameters": {
    "endpoint_type": {
      "type": "string",
      "required": true,
      "enum": ["rag_query", "user_profile", "personalization", "translation", "chat_history"],
      "description": "Type of endpoint to create"
    },
    "route_path": {
      "type": "string",
      "required": true,
      "description": "Route path for the endpoint (e.g., '/api/query', '/api/profile')"
    },
    "http_method": {
      "type": "string",
      "required": false,
      "enum": ["GET", "POST", "PUT", "DELETE", "PATCH"],
      "default": "POST",
      "description": "HTTP method for the endpoint"
    },
    "auth_required": {
      "type": "boolean",
      "required": false,
      "default": true,
      "description": "Whether JWT authentication is required for this endpoint"
    },
    "rate_limit": {
      "type": "object",
      "required": false,
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true
        },
        "requests_per_minute": {
          "type": "integer",
          "default": 60
        }
      },
      "description": "Rate limiting configuration"
    },
    "cors_enabled": {
      "type": "boolean",
      "required": false,
      "default": true,
      "description": "Enable CORS for frontend integration"
    }
  },
  "outputs": {
    "router_file": {
      "type": "string",
      "description": "Path to the created router file"
    },
    "models_file": {
      "type": "string",
      "description": "Path to the Pydantic models file"
    },
    "main_file": {
      "type": "string",
      "description": "Path to the main FastAPI application file"
    },
    "middleware_file": {
      "type": "string",
      "description": "Path to authentication middleware"
    },
    "requirements_file": {
      "type": "string",
      "description": "Path to the requirements.txt file"
    },
    "dockerfile": {
      "type": "string",
      "description": "Path to Dockerfile for containerization"
    }
  },
  "environment": {
    "AUTH_SECRET": {
      "description": "JWT secret for token validation (must match better-auth-setup)",
      "required": true
    },
    "DATABASE_URL": {
      "description": "PostgreSQL connection string",
      "required": true
    },
    "QDRANT_URL": {
      "description": "Qdrant vector database URL",
      "required": true
    },
    "OPENAI_API_KEY": {
      "description": "OpenAI API key for RAG",
      "required": true
    }
  },
  "dependencies": [
    "fastapi",
    "uvicorn",
    "pydantic",
    "python-jose",
    "passlib",
    "python-multipart",
    "slowapi"
  ],
  "integrations": {
    "better-auth-setup": "Validates JWT tokens from frontend auth",
    "neon-postgres": "Connects to PostgreSQL for data operations",
    "qdrant-vectorstore": "Queries vector database for RAG",
    "openai-agents-sdk": "Generates AI responses"
  },
  "examples": [
    {
      "name": "RAG Query Endpoint",
      "parameters": {
        "endpoint_type": "rag_query",
        "route_path": "/query",
        "request_model": "QueryRequest(question: str, context: Optional[str] = None)",
        "response_model": "QueryResponse(answer: str, sources: List[str], confidence: float)",
        "http_method": "POST",
        "auth_required": true
      }
    },
    {
      "name": "User Authentication",
      "parameters": {
        "endpoint_type": "user_auth",
        "route_path": "/auth/login",
        "request_model": "LoginRequest(email: str, password: str)",
        "response_model": "TokenResponse(access_token: str, token_type: str = 'bearer')",
        "http_method": "POST",
        "auth_required": false
      }
    },
    {
      "name": "Personalization Settings",
      "parameters": {
        "endpoint_type": "personalization",
        "route_path": "/user/preferences",
        "request_model": "PreferencesUpdate(theme: str, language: str, notifications: bool)",
        "response_model": "UserPreferences(user_id: str, preferences: dict)",
        "http_method": "PUT",
        "auth_required": true
      }
    }
  ]
}