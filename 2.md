# Command Execution Strategy for `/sp.constitution`

## Overview
This document provides a step-by-step guide for executing the `/sp.constitution` command to create the project constitution for the "Physical AI & Humanoid Robotics Textbook" project.

---

## Pre-Execution Checklist

### 1. Validate Constitution Content
Before running the command, ensure the constitution draft (saved in `1.md`) includes:
- [ ] Project identity clearly defined
- [ ] All 7 agents documented with clear boundaries
- [ ] Skills mapped to appropriate agents
- [ ] Measurable code quality principles
- [ ] Testing standards with specific metrics
- [ ] Performance requirements with quantifiable targets
- [ ] Architecture decisions with rationale
- [ ] Development phases with quality gates
- [ ] Governance and escalation paths
- [ ] Risk analysis with mitigation strategies
- [ ] ADR creation criteria
- [ ] Human as Tool strategy

### 2. Review Constitution Structure
Ensure the constitution follows best practices:
- [ ] Principles are measurable (not aspirational)
- [ ] Reversibility is considered where applicable
- [ ] Smallest viable change approach is emphasized
- [ ] Human as Tool triggers are explicit
- [ ] No unresolved ambiguities

### 3. Check Directory Structure
Verify that the required directories exist or will be created:
```
.specify/
├── memory/
│   └── constitution.md (will be created)
├── templates/
│   └── phr-template.prompt.md
└── scripts/
    └── bash/
        └── create-phr.sh

history/
└── prompts/
    └── constitution/ (will be created)
```

---

## Command Execution Steps

### Step 1: Prepare Constitution Content
Copy the refined constitution from `1.md` and prepare it for the command.

**Format:**
```markdown
PROJECT_IDENTITY: |
  Name: Physical AI & Humanoid Robotics Textbook
  Type: Educational Platform + RAG Chatbot
  Audience: Graduate students (Physical AI, ROS 2, Humanoid Robotics)

AGENTS: |
  [Full agent definitions with boundaries, skills, success criteria]

CODE_QUALITY: |
  [Specific, measurable standards]

TESTING: |
  [Test requirements with metrics]

[... continue for all sections ...]
```

### Step 2: Execute the Command

**Command:**
```bash
/sp.constitution
```

**What Happens:**
1. Claude Code enters constitution creation mode
2. You provide the constitution content (paste from prepared format)
3. The constitution is processed and saved to `.specify/memory/constitution.md`
4. A PHR (Prompt History Record) is automatically created in `history/prompts/constitution/`

### Step 3: Provide Constitution Content

**Interaction Flow:**
```
User: /sp.constitution